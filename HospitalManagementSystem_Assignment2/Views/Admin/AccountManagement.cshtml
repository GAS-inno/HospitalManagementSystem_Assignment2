@model UserList

@{
    ViewBag.Title = "Account Management";
}

<a href="@Url.Action("CreateAccount", "Admin")" class="btn btn-primary">Create Account</a>

<div class="text-center">
    <h1 class="display-2">@ViewData["Title"]</h1>
</div>
<br />

@{
    @if (TempData["DoctorMessage"] != null)
    {
        <div class="alert alert-success">
            @TempData["DoctorMessage"]
        </div>
    }
    @if (TempData["SuccessMessage"] != null)
    {
        <div class="alert alert-success">
            @TempData["SuccessMessage"]
        </div>
    }

    <h3 class="display-6">Doctor List</h3>
    <table class="table">
        <tr>
            <th >ID</th>
            <th >First Name</th>
            <th >Last Name</th>
            <th >Email</th>
            <th >Phone</th>
            <th >Password</th>
            <th >Gender</th>
            <th >DOB</th>
            <th >Account Type</th>
            <th >Specialist</th>
            <th >Action</th>

        </tr>

        @if (Model.doctorList != null)
        {
            @foreach (var doctor in Model.doctorList)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(m => doctor.EmployeeID)
                    </td>
                    <td>
                        @Html.DisplayFor(m => doctor.FirstName)
                    </td>
                    <td>
                        @Html.DisplayFor(m => doctor.LastName)
                    </td>
                    <td>
                        @Html.DisplayFor(m => doctor.Email)
                    </td>
                    <td>
                        @Html.DisplayFor(m => doctor.Phone)
                    </td>
                    <td>
                        @Html.DisplayFor(m => doctor.Password)
                    </td>
                    <td>
                        @Html.DisplayFor(m => doctor.Gender)
                    </td>
                    <td>
                        @Html.DisplayFor(m => doctor.DOB)
                    </td>
                    <td>
                        <p>Doctor</p>
                    </td>
                    <td>
                        @Html.DisplayFor(m => doctor.Specialist)
                    </td>
                    <td>
                        <a href="@Url.Action("EditDoctor", "Admin", new { id = doctor.EmployeeID })" class="btn btn-secondary">Edit</a>
                        </td>
                        <td>
                        @using (Html.BeginForm("DeleteDoctor", "Admin", new { id = doctor.EmployeeID }, FormMethod.Post))
                        {
                            <input type="submit" value="Delete" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this doctor?');" />
                        }
                    </td>
                </tr>
            }
        }
    </table>

    @if (TempData["PatientMessage"] != null)
    {
        <div class="alert alert-success">
            @TempData["PatientMessage"]
        </div>
    }

    <h3 class="display-6">Patient List</h3>
    <table class="table">
        <tr>
            <th >ID</th>
            <th >First Name</th>
            <th >Last Name</th>
            <th >Email</th>
            <th >Phone</th>
            <th >Password</th>
            <th >Gender</th>
            <th >DOB</th>
            <th >Account Type</th>
            <th >Blood Group</th>
            <th >Medical History</th>
            <th >Drug Allergy</th>
            <th >Action</th>

        </tr>

        @if (Model.patientList != null)
        {
            @foreach (var patient in Model.patientList)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(m => patient.ID)
                    </td>
                    <td>
                        @Html.DisplayFor(m => patient.FirstName)
                    </td>
                    <td>
                        @Html.DisplayFor(m => patient.LastName)
                    </td>
                    <td>
                        @Html.DisplayFor(m => patient.Email)
                    </td>
                    <td>
                        @Html.DisplayFor(m => patient.Phone)
                    </td>
                    <td>
                        @Html.DisplayFor(m => patient.Password)
                    </td>
                    <td>
                        @Html.DisplayFor(m => patient.Gender)
                    </td>
                    <td>
                        @Html.DisplayFor(m => patient.DOB)
                    </td>
                    <td>
                        <p>Patient</p>
                    </td>
                    <td>
                        @Html.DisplayFor(m => patient.BloodGroup)
                    </td>
                    <td>
                        @Html.DisplayFor(m => patient.MedicalHistory)
                    </td>
                    <td>
                        @Html.DisplayFor(m => patient.DrugAllergy)
                    </td>
                    <td>
                        <a href="@Url.Action("EditPatient", "Admin", new { id = patient.ID })" class="btn btn-secondary">Edit</a> 
                    </td>
                    <td>
                        @using (Html.BeginForm("DeletePatient", "Admin", new { id = patient.ID }, FormMethod.Post))
                        {
                            <input type="submit" value="Delete" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this patient?');" />
                        }
                    </td>
                </tr>
            }
        }
    </table>

    <h3 class="display-6">Admin List</h3>
    <table class="table">
        <tr>
            <th>ID</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Password</th>
            <th>Gender</th>
            <th>DOB</th>
            <th>Account Type</th>
  
        </tr>

        @if (Model.adminList != null)
        {
            @foreach (var admin in Model.adminList)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(m => admin.ID)
                    </td>
                    <td>
                        @Html.DisplayFor(m => admin.FirstName)
                    </td>
                    <td>
                        @Html.DisplayFor(m => admin.LastName)
                    </td>
                    <td>
                        @Html.DisplayFor(m => admin.Email)
                    </td>
                    <td>
                        @Html.DisplayFor(m => admin.Phone)
                    </td>
                    <td>
                        @Html.DisplayFor(m => admin.Password)
                    </td>
                    <td>
                        @Html.DisplayFor(m => admin.Gender)
                    </td>
                    <td>
                        @Html.DisplayFor(m => admin.DOB)
                    </td>
                    <td>
                        <p>Admin</p>
                    </td>
                    
                </tr>
            }
        }
    </table>

}
